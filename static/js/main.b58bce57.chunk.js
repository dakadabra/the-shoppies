(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),a=n(6),o=n.n(a),r=n(8),j=n(7),l=n(2),u=function(e){var t=e.movie,n=e.removeMovie;return Object(c.jsxs)("div",{className:"singleMovie",children:[t.Title+" ("+t.Year+") ",Object(c.jsx)("button",{type:"submit",onClick:function(){n(t)},children:"Remove"}),Object(c.jsx)("img",{className:"poster",alt:t.Title,src:"N/A"===t.Poster?"https://placehold.it/198x264&text=Image+Not+Found":t.Poster})]})},b=function(e){var t=e.nominations,n=e.removeMovie;return Object(c.jsx)("div",{className:"movieListContainer",children:t.map((function(e){return Object(c.jsx)(u,{movie:e,removeMovie:n},e.Title)}))})},h=function(e){var t=e.setSearchText,n=Object(i.useState)(""),s=Object(l.a)(n,2),a=s[0],o=s[1];return Object(c.jsx)("div",{className:"topnav",children:Object(c.jsx)("a",{href:"#contact",children:Object(c.jsx)("div",{className:"search-container",children:Object(c.jsxs)("form",{action:"/action_page.php",children:[Object(c.jsx)("input",{type:"text",placeholder:"Search..",name:"search",value:a,onChange:function(e){o(e.target.value)}}),Object(c.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),t(a),o("")},children:Object(c.jsx)("i",{className:"fa fa-search"})})]})})})})},m=(n(14),[]);var d=function(){var e=Object(i.useState)(m),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)(0),o=Object(l.a)(a,2),u=o[0],d=o[1],O=function(e){!n.some((function(t){return e.imdbID===t.imdbID}))&&u<5&&(s([].concat(Object(j.a)(n),[e])),d(u+1))},v=Object(i.useState)([]),x=Object(l.a)(v,2),p=x[0],f=x[1],N=Object(i.useState)(null),g=Object(l.a)(N,2),S=g[0],y=g[1],I=Object(i.useState)(!1),M=Object(l.a)(I,2),k=M[0],w=M[1],C=Object(i.useState)("shop"),T=Object(l.a)(C,2),D=T[0],P=T[1];Object(i.useEffect)((function(){w(!0),y(null),f([]),fetch("https://www.omdbapi.com/?s=".concat(D,"&apikey=").concat("9fefc733")).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){"False"===e.Response?y(e.Error):f(e.Search),w(!1)})).catch((function(e){var t=e.message;y(t),w(!1)}))}),[D]);var Y=function(e){var t=e.Title,i=e.Year,s=e.Poster,a=e.imdbID,o=e.nominateMovie;return Object(c.jsxs)("div",{className:"singleMovie",children:[t+" ("+i+") ",Object(c.jsx)("button",{type:"submit",disabled:n.some((function(e){return a===e.imdbID})),onClick:function(){o({Title:t,Year:i,Poster:s,imdbID:a})},children:"Nominate"}),Object(c.jsx)("img",{className:"poster",alt:t,src:"N/A"===s?"https://placehold.it/198x264&text=Image+Not+Found":s})]})};return Object(c.jsxs)("div",{className:"bigContainer",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Look up your top movies!"}),Object(c.jsx)(h,{setSearchText:function(e){return P(e)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Nominations"}),Object(c.jsx)(b,{nominations:n,removeMovie:function(e){var t=n.filter((function(t){return t!==e}));s(t),d(u-1)}})]}),Object(c.jsxs)("h2",{children:['Results for "',D,'"']}),Object(c.jsxs)("div",{className:"movieListContainer",children:[k&&Object(c.jsx)("h1",{children:"I'm loading"}),null!==S&&Object(c.jsx)("div",{style:{margin:"20px 0"},children:S}),null!==p&&p.length>0&&p.map((function(e,t){return Object(c.jsx)(Y,Object(r.a)({nominateMovie:O},e),t)}))]}),5===u&&Object(c.jsx)("p",{children:"You have already nominated 5 movies, which is the maximum allowed!"})]})};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(d,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b58bce57.chunk.js.map